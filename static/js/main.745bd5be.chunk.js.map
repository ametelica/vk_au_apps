{"version":3,"sources":["panels/Home.js","panels/Shop.js","panels/Info.js","App.js","index.js"],"names":["Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","money","cab_id","activeTab","getItems","bind","assertThisInitialized","_this2","api","t","signParams","fetchJsonp","then","res","json","data","setState","catch","e","console","log","window","location","_this3","tabs","map","index","undefined","length","push","react_default","a","createElement","vkui","key","onClick","selected","n","id","activePanel","fetchedUser","title","before","photo_200","src","description","city","concat","first_name","last_name","style","textAlign","item","index2","c","icon","m","alt","width","height","margin","indicator","multiline","React","Component","osname","platform","Shop","item_id","popout","cat","catres","activeRes","activeResInfo","getItemInfo","paySum","paysys","buyItem","closePopout","res_id","way","pay","openDefault","text","buttons","html","__html","_this4","i","actions","onClose","_this5","ar","item_icon","item_desc","desc","replace","r","left","IOS","chevron_back_default","back_default","Fragment","marginLeft","marginRight","dangerouslySetInnerHTML","createMarkup","get_methods","need","size","level","can_get","type","method","ref","action","target","keys","k","top","name","placeholder","value","refs","form","submit","App","go","currentTarget","dataset","to","url_params","getUrlParams","page","activeStory","onStoryChange","readHash","exclude","params","create","href","split","forEach","substr","indexOf","sign_params","join","story","fetch","results","newState","alert","connect","subscribe","detail","authToken","access_token","send","group_id","tabbar","data-story","user_default","market_default","panels_Home","appState","panels_Shop","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.745bd5be.chunk.js","sourcesContent":["import React from 'react';\r\nimport { View, Panel, PanelHeader, Group, Div, Button, List, Avatar, ListItem, Tabs, TabsItem, FixedLayout, HorizontalScroll, InfoRow, Cell} from '@vkontakte/vkui';\r\nimport fetchJsonp from 'fetch-jsonp';\r\n\r\nimport './../common.css';\r\n\r\n\r\nclass Home extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state={\r\n            money: [],\r\n            cab_id: 0,\r\n            activeTab: 0\r\n        }\r\n\r\n        this.getItems = this.getItems.bind(this)\r\n    }\r\n\r\n    getItems() {\r\n        let api = `https://activeusers.ru/miniapi.php?mode=user&` + this.props.t.signParams(['id']);\r\n        fetchJsonp(api)\r\n            .then(res => res.json())\r\n            .then(data => this.setState({ money : data.data.money, cab_id: data.data.cab_id}))\r\n            .catch(e => [])\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.getItems();\r\n        console.log(window.location);\r\n    }\r\n\r\n    render() {\r\n        let props = this.props;\r\n        let tabs = [];\r\n\r\n        this.state.money.map((e, index) => {\r\n            if(e['i'] === undefined || e['i'].length == 0) return false;\r\n            tabs.push (\r\n                <TabsItem\r\n                    key={index}\r\n                    onClick={() => this.setState({activeTab : index})}\r\n                    selected={this.state.activeTab === index}\r\n                    >\r\n                    {e.n}\r\n                </TabsItem>\r\n            )}\r\n        )\r\n\r\n        return (\r\n            <View id={props.id} activePanel={props.id}>\r\n                <Panel id={props.id}>\r\n                    <PanelHeader>Профиль</PanelHeader>\r\n\r\n                    {props.fetchedUser &&\r\n                    <Group title=\"\">\r\n                        <ListItem\r\n                            before={props.fetchedUser.photo_200 ? <Avatar src={props.fetchedUser.photo_200}/> : null}\r\n                            description={props.fetchedUser.city && props.fetchedUser.city.title ? props.fetchedUser.city.title : ''}\r\n                            >\r\n                            {`${props.fetchedUser.first_name} ${props.fetchedUser.last_name}`}\r\n                        </ListItem>\r\n                    </Group>}\r\n\r\n                    {tabs.length > 0 &&\r\n                        <Tabs>\r\n                            {tabs.map((e, index) => (e))}\r\n                        </Tabs>\r\n                    }\r\n\r\n                    {tabs.length == 0 &&\r\n                        <Div style={{textAlign: 'center'}}>У вас пока нет ресурсов</Div>\r\n                    }\r\n\r\n                    {this.state.money.map((e, index) => {\r\n                        if(this.state.activeTab != index) return false;\r\n                        return (\r\n                    <List>\r\n                        {e['i'] !== undefined && e['i'].length > 0 && e['i'].map((item, index2) => {\r\n                                if (item.c == 0) return false;\r\n                                let icon = 'https://activeusers.ru/upload/cab/' + this.state.cab_id + '/' + item.m;\r\n                                return (\r\n                                    <Cell key={index2}\r\n                                          before={\r\n                                            <img\r\n                                                alt=\"\"\r\n                                                style={{\r\n                                                    width: 40,\r\n                                                    height : 40,\r\n                                                    margin : 10\r\n                                                }}\r\n                                                src={icon}\r\n                                                />\r\n                                            }\r\n                                          indicator={item.c}\r\n                                          multiline>\r\n                                        {item.t}\r\n                                    </Cell>\r\n                                )\r\n                            })\r\n                        }\r\n                    </List>\r\n                    )})}\r\n                </Panel>\r\n            </View>\r\n        );\r\n    }\r\n}\r\nexport default Home;","import React from 'react';\nimport { View, Panel, Select, Input, FormLayout, Alert, HeaderButton, PanelHeader, Group, Div, Button, List, Avatar, ListItem, Tabs, TabsItem, FixedLayout, HorizontalScroll, InfoRow, Cell, platform, IOS} from '@vkontakte/vkui';\nimport fetchJsonp from 'fetch-jsonp';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst osname = platform();\n\nclass Shop extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        if(props.t.state.item_id > 0) {\n            this.state={\n                popout: null,\n                res: {},\n                cat: {},\n                catres: [],\n                cab_id: 0,\n                activeTab: 0,\n                activePanel: 'item',\n                activeRes: props.t.state.item_id,\n                activeResInfo: {}\n            }\n\n            this.getItemInfo(props.t.state.item_id);\n        } else {\n            this.state={\n                popout: null,\n                res: {},\n                cat: {},\n                catres: [],\n                cab_id: 0,\n                activeTab: 0,\n                activePanel: props.id,\n                activeRes: 0,\n                activeResInfo: {},\n                paySum: 0,\n                paysys: [],\n            }\n        }\n\n        this.getItems = this.getItems.bind(this);\n        this.buyItem = this.buyItem.bind(this);\n        this.closePopout = this.closePopout.bind(this);\n    }\n\n    buyItem(res_id, way) {\n        const api = `https://activeusers.ru/miniapi.php?mode=a_buy_res&id=` + res_id + `&m=` + way + `&` + this.props.t.signParams(['id']);\n        fetchJsonp(api)\n            .then(res => res.json())\n            .then(data => {\n                if(data.data.pay !== undefined && data.data.pay > 0) {\n                    this.setState({\n                        activePanel: 'pay',\n                        paySum: data.data.pay,\n                        paysys: data.data.paysys\n                    })\n                } else {\n                    this.openDefault(data.data.title, data.data.text, data.data.buttons)\n                }\n            })\n            .catch(e => [])\n    }\n\n    getItemInfo(id) {\n        const api = `https://activeusers.ru/miniapi.php?mode=shop_item&id=` + id + `&` + this.props.t.signParams(['id']);\n        fetchJsonp(api)\n            .then(res => res.json())\n            .then(data => this.setState({\n                activeResInfo: data.data.res,\n                cab_id: data.data.cab_id,\n            }))\n            .catch(e => [])\n    }\n\n    createMarkup(html) {\n        return {__html: html};\n    }\n\n    getItems() {\n        const api = `https://activeusers.ru/miniapi.php?mode=shop&` + this.props.t.signParams(['id']);\n        fetchJsonp(api)\n            .then(res => res.json())\n            .then(data => this.setState({\n                cat: data.data.cat,\n                res : data.data.res,\n                catres : data.data.catres,\n                cab_id: data.data.cab_id,\n                activeTab: (data.data.catres[0] === undefined ? 0 : data.data.catres[0].i)\n            }))\n            .catch(e => [])\n    }\n\n    openDefault (title, text, buttons) {\n        this.setState({\n            popout:\n                <Alert\n                    actions={buttons}\n                    onClose={this.closePopout}\n                >\n                    <h2>{title}</h2>\n                    <p>{text}</p>\n                </Alert>\n        });\n    }\n\n    closePopout () {\n        this.setState({ popout: null });\n    }\n\n    componentDidMount () {\n        this.getItems();\n    }\n\n    render() {\n        let props = this.props;\n        let ar = this.state.activeResInfo;\n        let item_icon = 'https://activeusers.ru/upload/cab/' + this.state.cab_id + '/' + ar.icon;\n        let item_desc = typeof(ar.desc) === 'string' ? ar.desc.replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, \"$1<br>$2\") : '';\n        return (\n            <View id={props.id} activePanel={this.state.activePanel} popout={this.state.popout}>\n                <Panel id={props.id}>\n                    <PanelHeader>Каталог</PanelHeader>\n                    <HorizontalScroll>\n                        <Tabs>\n                            {this.state.catres.length > 0 && this.state.catres.map((e, index) => (\n                                <TabsItem\n                                    key={e.i}\n                                    onClick={() => this.setState({activeTab : e.i})}\n                                    selected={this.state.activeTab === e.i}\n                                    >\n                                    {this.state.cat[e.i].t}\n                                </TabsItem>\n                            ))\n                            }\n                        </Tabs>\n                    </HorizontalScroll>\n\n                    {this.state.catres.length > 0 && this.state.catres.map((e, index) => {\n                        if(this.state.activeTab !== e.i) return false;\n                        return (\n                            <List>\n                                {\n                                    e.r !== undefined && e.r.length > 0 && e.r.map((res_id, index2) => {\n                                        let item = this.state.res[res_id];\n                                        let icon = 'https://activeusers.ru/upload/cab/' + this.state.cab_id + '/' + item.m;\n                                        return (\n                                            <Cell key={index2}\n                                                before={\n                                                    <img\n                                                        alt=\"\"\n                                                        style={{\n                                                            width: 40,\n                                                            height : 40,\n                                                            margin : 10\n                                                        }}\n                                                        src={icon}\n                                                        />\n                                                    }\n                                                multiline\n                                                onClick={() => {\n                                                    this.setState({activePanel : 'item', activeRes: res_id})\n                                                    this.getItemInfo(res_id)\n                                                }}\n                                            >\n                                                {item.t}\n                                            </Cell>\n                                        )\n                                    })\n                                }\n                            </List>\n                        )})\n                    }\n\n                </Panel>\n                <Panel id=\"item\">\n                    <PanelHeader left={<HeaderButton onClick={() => this.setState({activePanel : 'shop'})}>\n                        {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                        </HeaderButton>}\n                    >\n                        {this.state.res[this.state.activeRes] !== undefined && this.state.res[this.state.activeRes].t}\n\n                    </PanelHeader>\n\n                    {this.state.res[this.state.activeRes] !== undefined &&\n                        <>\n                            <Div>\n                            <Cell before={ <img\n                                src={item_icon}\n                                alt=\"\"\n                                style={{\n                                    width: 100,\n                                    height : 100,\n                                    marginLeft : -10,\n                                    marginRight : 10\n                                }} />}>\n                                <div dangerouslySetInnerHTML={this.createMarkup(item_desc)}></div>\n                            </Cell>\n\n                                {ar.get_methods !== undefined\n                                    && ar.get_methods.length > 0\n                                    && ar.get_methods.map(\n                                        (e, index) => (\n                                            <Group>{e.need.map(\n                                                (r) => (\n                                                    <Cell>{r.c} {this.state.res[r.r] !== undefined ? r.t : 'Ресурс #' + r.r} </Cell>\n                                                )\n                                            )}\n                                                <Div>\n                                                    <Button size=\"l\" level={e.can_get ? 'commerce' : 'secondary'} onClick={() => this.buyItem(ar.id, index)}>Купить</Button>\n                                                </Div>\n                                            </Group>\n                                        )\n                                    )\n                                }\n                            </Div>\n                        </>\n                    }\n\n                </Panel>\n                <Panel id=\"pay\">\n                    <PanelHeader left={<HeaderButton onClick={() => this.setState({activePanel : 'item'})}>\n                        {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                        </HeaderButton>}\n                        >\n                        Платёжная система\n                    </PanelHeader>\n\n\n                    {this.state.paysys !== undefined\n                        && this.state.paysys.length > 0\n                        && this.state.paysys.map((e, index) => {\n\n                        if(e.type === 0) {\n                            return (\n\n                                <form method=\"get\" ref=\"form\" action=\"https://activeusers.ru/yandex_money\" id=\"payform\" target=\"_top\">\n\n                                        {Object.keys(e).map((k) => {\n                                            if(k == 'paymentType') {\n                                                return (\n                                                    <Select top=\"Откуда\" name={k} placeholder=\"Выберите тип\" value={e[k]}>\n                                                        <option value=\"PC\">Кошелёк Яндекc-денег</option>\n                                                        <option value=\"AC\">Банковская карта</option>\n                                                    </Select>\n                                                )\n                                            }\n                                            if(k == 'sum') {\n                                                return (<Input top=\"Сумма\" type=\"text\" value={e[k]} name={k} />)\n                                            }\n                                        })}\n                                        <Button size=\"l\" level=\"commerce\" onClick={() => {this.refs.form.submit()}}>Оплатить</Button>\n\n                                    {Object.keys(e).map((k) => {\n                                        if(k !== 'sum' && k !== 'paymentType') {\n                                            return (<input type=\"hidden\" name={k} value={e[k]} />)\n                                        }\n                                    })}\n                                </form>\n                            )\n                        }\n\n                        if(e.type === 2) {\n\n                        }\n                    })\n                    }\n\n                </Panel>\n            </View>\n        );\n    }\n}\nexport default Shop;","import React from 'react';\r\nimport { Panel, PanelHeader, HeaderButton, platform, IOS, Div } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst Info = props => (\r\n    <Panel id={props.id}>\r\n        <PanelHeader left={<HeaderButton onClick={props.go} data-to=\"home\">\r\n    \t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t</HeaderButton>}\r\n\t\t\t>\r\n\t\t\tТут заголовок 2\r\n\t\t</PanelHeader>\r\n        <Div>Тут тело 2</Div>\r\n    </Panel>\r\n);\r\n\r\nexport default Info;","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\n\nimport { Panel, View, PanelHeader, Epic, Tabbar, TabbarItem, Div, Header} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Info from './panels/Info';\nimport Shop from './panels/Shop';\n\nimport Icon28User from '@vkontakte/icons/dist/28/user';\nimport Icon28Market from '@vkontakte/icons/dist/24/market';\nimport Icon28Messages from '@vkontakte/icons/dist/28/messages';\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\nimport Icon28More from '@vkontakte/icons/dist/28/more';\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        let url_params = this.getUrlParams(true, []);\n        this.state={\n            activePanel: (url_params.page != undefined ? url_params.page : 'home'),\n            fetchedUser: null,\n            popout: null,\n            activeStory: (url_params.page != undefined ? url_params.page : 'home'),\n            url_params: url_params,\n            item_id: (url_params.id != undefined ? url_params.id : 0)\n        }\n\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    // Получаем параметры из УРЛа\n    getUrlParams(readHash, exclude) {\n        var params = Object.create(null);\n        let url_params = window.location.href.split('#')[0].split('?')[1].split('&').map((n) => n.split('='));\n        url_params.forEach((n) => {\n            if(n[0].substr(0,3) == 'vk_' || n[0] == 'sign') {\n                params[n[0]] = n[1];\n            }\n        });\n\n        if(readHash && window.location.href.split('#')[1] != undefined) {\n            // # хеш-параметры забираем все, что есть\n            url_params = window.location.href.split('#')[1].split('&').map((n) => n.split('='));\n            url_params.forEach((n) => {\n                console.log(n[0], params[n[0]]);\n                if(exclude.indexOf(n[0]) == -1) {\n                    params[n[0]] = n[1];\n                }\n            });\n        }\n\n        return params;\n    }\n\n    // Эти параметры нужны для подписи AJAX-запросов\n    signParams(exclude) {\n        let sign_params = [];\n        let params = this.getUrlParams(true, exclude);\n\n        if(typeof(params) == 'object') {\n            let keys = Object.keys(params);\n            keys.map((e) => {\n                sign_params.push(e + '=' + params[e]);\n            });\n        }\n        return sign_params.join('&');\n    }\n\n    onStoryChange (e) {\n        this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    loadData(type) {\n        const requestAddress = 'http://activeusers.ru/app_api.php';\n        fetch(requestAddress).then(results => { return results.json() }).then(data => {\n            let newState = {};\n            newState[type] = data;\n            this.setState(newState);\n        }).catch(() => {\n            alert('Ошибка!');\n        });\n    }\n\n    componentDidMount () {\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n                case 'VKWebAppGetUserInfoResult':\n                    this.setState({ fetchedUser: e.detail.data });\n                    break;\n                case 'VKWebAppAccessTokenReceived':\n                    this.setState({ authToken : e.detail.data.access_token });\n                    this.getItems()\n                    break;\n                default:\n                    console.log(e.detail.type);\n            }\n        });\n        connect.send('VKWebAppGetUserInfo', {});\n        //connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6906999, \"scope\": \"market\"});\n        //connect.send(\"VKWebAppGetUserInfo\", {}).then(e => this.setState({fetchedUser: e.data}))\n    }\n\n    go = e => {\n    \tthis.setState({activePanel: e.currentTarget.dataset.to})\n    }\n\n    /*\n    render() {\n        return (\n            <View popout={this.state.popout} activePanel={this.state.activePanel}>\n    \t\t\t<Home id=\"home\" go={this.go} appState={this.state} fetchedUser={this.state.fetchedUser}/>\n    \t\t\t<Info id=\"info\" go={this.go}/>\n\t\t\t</View>\n        )\n    }\n    */\n\n    render () {\n        if(this.state.url_params.group_id == undefined) {\n            ///let location = window.top.location;\n            return (\n                <View id=\"discover\" activePanel=\"discover\">\n                    <Panel id=\"discover\">\n\n                        <PanelHeader>Ошибка</PanelHeader>\n                        <Div>\n                            Это приложение может выполняться только в контексте сообщества. Пожалуйста, допишите параметр #group_id=ID, заменив ID на порядковый номер собщества.\n                        </Div>\n                    </Panel>\n                </View>\n            )\n        }\n\n        return (\n            <Epic activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                  <TabbarItem\n                    onClick={this.onStoryChange}\n                    selected={this.state.activeStory === 'home'}\n                    data-story=\"home\"\n                    text=\"Профиль\"\n                  ><Icon28User /></TabbarItem>\n                  <TabbarItem\n                    onClick={this.onStoryChange}\n                    selected={this.state.activeStory === 'shop'}\n                    data-story=\"shop\"\n                    text=\"Каталог\"\n                  ><Icon28Market /></TabbarItem>\n\n                </Tabbar>\n              }>\n                <Home id=\"home\" t={this} go={this.go} appState={this.state} fetchedUser={this.state.fetchedUser}/>\n                <Shop id=\"shop\" t={this} go={this.go} appState={this.state} fetchedUser={this.state.fetchedUser}/>\n\n                <View id=\"messages\" activePanel=\"messages\">\n                    <Panel id=\"messages\">\n                        <PanelHeader>Messages</PanelHeader>\n                    </Panel>\n                </View>\n                <View id=\"notifications\" activePanel=\"notifications\">\n                    <Panel id=\"notifications\">\n                        <PanelHeader>Notifications</PanelHeader>\n                    </Panel>\n                </View>\n                <View id=\"more\" activePanel=\"more\">\n                    <Panel id=\"more\">\n                        <PanelHeader>More</PanelHeader>\n                    </Panel>\n                </View>\n            </Epic>\n        )\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n\nconnect.send('VKWebAppInit', {});\n//connect.subscribe((e) => console.log(e));\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}